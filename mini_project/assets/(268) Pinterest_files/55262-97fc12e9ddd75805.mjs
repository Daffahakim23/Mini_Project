(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[55262],{17314:(e,t,r)=>{r.d(t,{Z:()=>c});var a,o,n=r(813653),s=r(861470),i=0,d=0;const c=function(e,t,r){var c=t&&r||0,u=t||new Array(16),m=(e=e||{}).node||a,l=void 0!==e.clockseq?e.clockseq:o;if(null==m||null==l){var g=e.random||(e.rng||n.Z)();null==m&&(m=a=[1|g[0],g[1],g[2],g[3],g[4],g[5]]),null==l&&(l=o=16383&(g[6]<<8|g[7]))}var p=void 0!==e.msecs?e.msecs:Date.now(),E=void 0!==e.nsecs?e.nsecs:d+1,_=p-i+(E-d)/1e4;if(_<0&&void 0===e.clockseq&&(l=l+1&16383),(_<0||p>i)&&void 0===e.nsecs&&(E=0),E>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");i=p,d=E,o=l;var y=(1e4*(268435455&(p+=122192928e5))+E)%4294967296;u[c++]=y>>>24&255,u[c++]=y>>>16&255,u[c++]=y>>>8&255,u[c++]=255&y;var f=p/4294967296*1e4&268435455;u[c++]=f>>>8&255,u[c++]=255&f,u[c++]=f>>>24&15|16,u[c++]=f>>>16&255,u[c++]=l>>>8|128,u[c++]=255&l;for(var h=0;h<6;++h)u[c+h]=m[h];return t||(0,s.Z)(u)}},558068:(e,t,r)=>{r.d(t,{Hv:()=>d,aX:()=>m,nK:()=>l});var a=r(667294),o=r(425288),n=r(276775),s=r(785893);const{Provider:i,useHook:d}=(0,o.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),c=e=>e&&e.pathname?e.pathname+(e.search||""):"";function u(e,t){var r;const a={action:t.type,location:t.location,match:t.match};if(t.location===(null===(r=e.current)||void 0===r?void 0:r.location))return e;switch(t.type){case"POP":return e.forward.length>0&&c(e.forward[0].location)===c(a.location)?{...e,forward:e.forward.slice(1),current:{...e.forward[0],action:t.type},previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous}:{...e,forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match},...e.forward]:e.forward,current:{...e.previous.slice(-1)[0],action:t.type},previous:e.previous.slice(0,-1)};case"PUSH":return{...e,forward:e.forward.length>0?[]:e.forward,current:a,previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};case"REPLACE":return{...e,current:a};default:return e}}function m(){const{current:e,previous:t}=d();return(0,a.useMemo)((()=>e?t.concat(e):t),[e,t])}function l({children:e}){const t=(0,n.useHistory)(),r=(0,n.useLocation)(),o=(0,n.useRouteMatch)(),d={forward:[],current:{action:t.action,location:r,match:o},previous:[]},[c,m]=(0,a.useReducer)(u,d);return(0,a.useEffect)((()=>{const{action:e}=t;m({type:e,location:r,match:o})}),[r]),(0,s.jsx)(i,{value:c,children:e})}},505920:(e,t,r)=>{r.d(t,{UZ:()=>m,Z8:()=>l,my:()=>g});var a=r(667294),o=(r(702664),r(425288)),n=r(214494),s=r(785893);function i(e,t,r){var a;const o=[...null!==(a=t[e][r.payload.name])&&void 0!==a?a:[],r.payload.handler],n={...t};return n[e]={...t[e],[r.payload.name]:o},n}function d(e,t,r){if(!t[e][r.payload.name])return t;const a=t[e][r.payload.name].filter((e=>e!==r.payload.handler)),o={...t};return o[e]={...t[e],[r.payload.name]:a},o}const{Provider:c,useHook:u}=(0,o.Z)("ResourceContext");function m({children:e}){const[{listeners:t,moreListeners:r},o]=(0,a.useReducer)(((e,t)=>{switch(t.type){case"addListener":return i("listeners",e,t);case"addMoreListener":return i("moreListeners",e,t);case"removeListener":return d("listeners",e,t);case"removeMoreListener":return d("moreListeners",e,t);default:return e}}),{listeners:{},moreListeners:{}});n.Z.fetchCompleteCallback=({resource:e,options:r,response:a,normalizedResponse:o,refresh:n,resourceSchema:s})=>{t[e]&&t[e].forEach((t=>t({isRefresh:n,normalizedResponse:o,options:r,schema:s,resource:e,response:a})))},n.Z.fetchMoreCompleteCallback=({resource:e,options:t,response:a,normalizedResponse:o,refresh:n,resourceSchema:s})=>{r[e]&&r[e].forEach((r=>r({isRefresh:n,normalizedResponse:o,options:t,schema:s,resource:e,response:a})))};const u=(0,a.useMemo)((()=>({listenerDispatch:o})),[]);return(0,s.jsx)(c,{value:u,children:e})}function l(e,t){const{listenerDispatch:r}=u();(0,a.useEffect)((()=>(r({type:"addListener",payload:{name:e,handler:t}}),()=>{r({type:"removeListener",payload:{name:e,handler:t}})})))}function g(e,t){const{listenerDispatch:r}=u();(0,a.useEffect)((()=>(r({type:"addMoreListener",payload:{name:e,handler:t}}),()=>{r({type:"removeMoreListener",payload:{name:e,handler:t}})})))}},790123:(e,t,r)=>{r.d(t,{j:()=>m,w:()=>u});var a=r(829407),o=r(407043),n=r(50286),s=r(780280),i=r(425288),d=r(785893);const{Provider:c,useMaybeHook:u}=(0,i.Z)("TimeSpentManagerContext");function m({children:e,value:t}){const r=(0,o.v)(),i=(0,n.HG)(),{isAuthenticated:u}=(0,s.B)(),m=i&&u;return(0,a.Z)((()=>{document.hasFocus()&&t(r,m).registerApp(),t(r,m).addEventListeners()})),(0,d.jsx)(c,{value:t(r,m),children:e})}},245474:(e,t,r)=>{r.d(t,{Z:()=>i});var a=r(172045),o=r(17314);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const s="undefined"!=typeof window&&window.performance&&window.performance.now?()=>Math.floor(1e6*window.performance.now()):()=>1e6*Date.now();const i=class{constructor(e){n(this,"start",(()=>(this.startTime=s(),this.startTime))),n(this,"end",(()=>(this.endTime=s(),this.duration=this.startTime?this.endTime-this.startTime:null,this.duration)));try{this.uuid=(0,a.Z)()}catch(t){this.uuid=(0,o.Z)()}e&&Object.assign(this,e)}}},343341:(e,t,r)=>{r.d(t,{F9:()=>s,Zo:()=>o,nE:()=>n});var a=r(425288);const{Provider:o,Consumer:n,useHook:s}=(0,a.Z)("toastManagerContext")},139405:(e,t,r)=>{r.d(t,{pb:()=>T,nf:()=>C,lV:()=>R});var a=r(667294),o=r(702664),n=r(689070),s=r(441143),i=r.n(s),d=r(214494),c=r(618446),u=r.n(c),m=r(682492),l=r.n(m);const g={feature_map:Object.freeze({})},p=(e,t)=>{const r={...l()({},e,t),...t.reaction_counts?{reaction_counts:t.reaction_counts}:Object.freeze({}),...t.tags?{tags:t.tags}:Object.freeze({}),...t.tagged_users?{tagged_users:t.tagged_users}:Object.freeze({})};return u()(e,r)?e:r},E=(e=g,t)=>{if("FETCH_COMPLETE"===t.type){const{payload:{resource:r}}=t,a=t.payload.response.resource_response.data;if("AggregatedCommentFeedResource"===r||"AggregatedCommentReplyFeedResource"===r||"DidItCommentsResource"===r){const t=(a||[]).reduce(((t,r)=>(t[r.id]=p(e[r.id],r),t)),{});return{...e,...t}}if("UnifiedCommentsResource"===r&&a&&a.length>0){const t=a.filter((e=>"aggregatedcomment"===e.type)).reduce(((t,r)=>(t[r.id]=p(e[r.id],r),t)),{});return{...e,...t}}if("UnifiedCommentsPreviewResource"===r&&a&&a.length>0){const t=a[0].aggregated_comment,r=t?{[t.id]:p(e[t.id],t)}:{},o=a[0].creator_reply,n=o?{[o.id]:p(e[o.id],o)}:{};return{...e,...r,...n}}if("AggregatedCommentFeaturesResource"===r&&a&&Object.keys(a).length>0)return{...e,feature_map:a}}else{if("AGGREGATED_COMMENT_CREATED"===t.type){const{payload:{aggregatedComment:r}}=t;return r.id?{...e,[r.id]:r}:e}if("AGGREGATED_COMMENT_DELETED"===t.type||"AGGREGATED_COMMENT_HIDDEN"===t.type){const{payload:{aggregatedCommentId:r}}=t,a={...e};return delete a[r],a}if("AGGREGATED_COMMENT_HIDDEN_FOR_USER"===t.type){const{payload:{userId:r}}=t;return Object.fromEntries(Object.entries(e).filter((e=>{var t;return(null===(t=e[1].user)||void 0===t?void 0:t.id)!==r})))}if("AGGREGATED_COMMENT_UPDATED"===t.type){const{payload:{data:r}}=t;return{...e,[r.id]:p(e[r.id],r)}}if("AGGREGATED_COMMENT_LIKE_TOGGLED"===t.type){const{payload:{data:r}}=t,a=e[r.id],o=a.reaction_counts[1]||0,n={1:r.reaction_by_me?o+1:o-1},s={...a,reaction_by_me:r.reaction_by_me,reaction_counts:n};return{...e,[r.id]:s}}if("AGGREGATED_COMMENT_HELPFUL_TOGGLED"===t.type){const{payload:{data:r}}=t,a=e[r.id],o=a.helpful_count||0,n=r.marked_helpful_by_me?o+1:o-1,s={...a,marked_helpful_by_me:r.marked_helpful_by_me,helpful_count:n};return{...e,[r.id]:s}}if("AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED"===t.type){const{payload:{data:r}}=t,a={...e[r.aggregated_comment_id],highlighted_by_pin_owner:r.is_highlighted};return{...e,[r.aggregated_comment_id]:a}}if("AGGREGATED_COMMENT_FEATURES_UPDATED"===t.type){const{payload:{data:{featureMap:r}}}=t;return{...e,feature_map:{...e.feature_map,...r}}}if("UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT"===t.type){const{payload:{increment:r,id:a}}=t,o=e[a],n={...o,comment_count:o.comment_count+r};return{...e,[a]:n}}if("DELETE_COMMENT_MENTION"===t.type){const{payload:{aggregatedCommentId:r,tagged_users:a}}=t,o={...e[r],tagged_users:a};return{...e,[r]:o}}}return e};var _=r(425288),y=r(505920),f=r(785893);const{Provider:h,useHook:v}=(0,_.Z)("AggregatedComments");function T({children:e}){const t=(0,o.useSelector)((({resources:e})=>e.UnifiedCommentsResource));let r=g;t&&Object.values(t).forEach((e=>{var t;const a=null===(t=e.data)||void 0===t?void 0:t.filter((e=>"aggregatedcomment"===e.type)),o=null==a?void 0:a.reduce(((e,t)=>(e[t.id]=p(r[t.id],t),e)),{});r={...r,...o}}));const[n,s]=(0,a.useReducer)(E,r),i=e=>{s({type:"FETCH_COMPLETE",payload:e})};(0,y.Z8)("AggregatedCommentFeaturesResource",i),(0,y.my)("AggregatedCommentFeaturesResource",i),(0,y.Z8)("AggregatedCommentFeedResource",i),(0,y.my)("AggregatedCommentFeedResource",i),(0,y.Z8)("AggregatedCommentReplyFeedResource",i),(0,y.my)("AggregatedCommentReplyFeedResource",i),(0,y.Z8)("DidItCommentsResource",i),(0,y.my)("DidItCommentsResource",i),(0,y.Z8)("UnifiedCommentsPreviewResource",i),(0,y.my)("UnifiedCommentsPreviewResource",i),(0,y.Z8)("UnifiedCommentsResource",i),(0,y.my)("UnifiedCommentsResource",i);const d=(0,a.useMemo)((()=>({aggregatedComments:n,dispatch:s})),[n,s]);return(0,f.jsx)(h,{value:d,children:e})}function C(){const{dispatch:e}=v();return(0,a.useMemo)((()=>({aggregatedCommentCreated(t,r){e({type:"AGGREGATED_COMMENT_CREATED",payload:{parentId:t,aggregatedComment:r}})},aggregatedCommentDeleted:(t,r)=>{e({type:"AGGREGATED_COMMENT_DELETED",payload:{parentId:t,aggregatedCommentId:r}})},aggregatedCommentHidden:t=>{e({type:"AGGREGATED_COMMENT_HIDDEN",payload:{aggregatedCommentId:t}})},aggregatedCommentsHiddenForUser:t=>{e({type:"AGGREGATED_COMMENT_HIDDEN_FOR_USER",payload:{userId:t}})},flagAggregatedComment:async({commentId:e,reason:t,detailedReasons:r})=>{const a={commentId:e,reason:t,detailedReasons:r};return d.Z.create("AggregatedCommentFlagResource",a).callCreate()},deleteCommentMention:async t=>{var r;const{resource_response:a}=await(0,n.Z)({url:`/v3/aggregated_comments/${t}/mentions/`,method:"DELETE",data:{fields:["aggregatedcomment.id","aggregatedcomment.tagged_users"]}}),o=null!==(r=null==a?void 0:a.data)&&void 0!==r?r:{};e({type:"DELETE_COMMENT_MENTION",payload:{aggregatedCommentId:o.id,tagged_users:o.tagged_users}})},toggleAggregatedCommentHelpful:({aggregatedCommentId:t,isMarkedHelpfulByMe:r})=>{(0,n.Z)({url:`/v3/helpful/1/${t}/`,method:r?"DELETE":"POST"}),e({type:"AGGREGATED_COMMENT_HELPFUL_TOGGLED",payload:{data:{id:t,marked_helpful_by_me:!r}}})},toggleAggregatedCommentHighlight:async({aggregatedCommentId:t,pinId:r,isHighlighted:a})=>{i()(t),i()(r),await(0,n.Z)({url:"/v3/aggregated_comments/pin/highlight/",method:"PUT",data:{aggregated_comment:t,pin:r,highlight:!a}}),e({type:"AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED",payload:{data:{aggregated_comment_id:t,pin_id:r,is_highlighted:!a}}})},toggleAggregatedCommentLike:({aggregatedCommentId:t,isLikedByMe:r})=>{(0,n.Z)({url:`/v3/aggregated_comments/${t}/react/`,method:r?"DELETE":"POST",data:{reaction_type:1}}),e({type:"AGGREGATED_COMMENT_LIKE_TOGGLED",payload:{data:{id:t,reaction_by_me:r?0:1}}})},updateAggregatedComment:async({commentId:t,force:r,orbacSubjectId:a,tags:o,text:n})=>{var s;const{resource_response:i}=await d.Z.create("AggregatedCommentResource",{commentId:t,force:r,tags:o,text:n,...a?{orbacSubjectId:a}:{}}).callUpdate({showError:!1}),{tagged_users:c}=null!==(s=null==i?void 0:i.data)&&void 0!==s?s:{},u=c.map((e=>({...e})));e({type:"AGGREGATED_COMMENT_UPDATED",payload:{data:{id:t,tagged_users:u,tags:JSON.parse(o),text:n}}})},updateAggregatedCommentFeatures:async({userId:t,featureMap:r,passcode:a})=>{var o;const{resource_response:n}=await d.Z.create("AggregatedCommentFeaturesResource",{userId:t,featureMap:r,passcode:a}).callUpdate({showError:!1}),s=null!==(o=null==n?void 0:n.data)&&void 0!==o?o:Object.freeze({});e({type:"AGGREGATED_COMMENT_FEATURES_UPDATED",payload:{data:{featureMap:s}}})},updateCommentCount:(t,r)=>{e({type:"UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT",payload:{increment:r,id:t}})}})),[e])}function R(){const{aggregatedComments:e}=v();return e}},94089:(e,t,r)=>{r.d(t,{G:()=>l,Kl:()=>g,vo:()=>m});var a=r(667294),o=r(311541),n=r(425288),s=r(505920),i=r(785893);const d=()=>r.e(18870).then(r.bind(r,218870)),{Provider:c,useHook:u}=(0,n.Z)("NativeEngagements");function m({children:e}){const[t,r]=(0,o.Z)(d,[]),n=e=>{r({type:"FETCH_COMPLETE",payload:e})};(0,s.Z8)("NativeInteractionsResource",n),(0,s.my)("NativeInteractionsResource",n);const u=(0,a.useMemo)((()=>({dispatch:r,nativeEngagements:t})),[r,t]);return(0,i.jsx)(c,{value:u,children:e})}function l(){const{dispatch:e}=u();return(0,a.useMemo)((()=>({nativeEngagementsHiddenForUser:t=>{e({type:"NATIVE_ENGAGEMENT_HIDDEN_FOR_USER",payload:{userId:t}})}})),[e])}function g(){const{nativeEngagements:e}=u();return e}},350118:(e,t,r)=>{r.d(t,{AF:()=>i,H0:()=>d,S6:()=>c,_S:()=>u});var a=r(702664),o=r(425288),n=r(785893);const{Provider:s,useHook:i,useMaybeHook:d}=(0,o.Z)("Pins");function c(){const e=i();return t=>e[t]}function u({children:e}){const t=(0,a.useSelector)((({pins:e})=>e),a.shallowEqual);return(0,n.jsx)(s,{value:t,children:e})}},116674:(e,t,r)=>{r.d(t,{X:()=>u,f:()=>c});var a=r(667294);function o(e=null,t){switch(t.type){case"REPORT_CONTENT_SHOW":return{id:t.payload.id,isProduct:t.payload.isProduct,isPromoted:t.payload.isPromoted,videoDuration:t.payload.videoDuration,viewParameter:t.payload.viewParameter,viewType:t.payload.viewType,type:t.payload.type};case"REPORT_CONTENT_DISMISS":return null;default:return e}}var n=r(425288),s=r(623568),i=r(785893);const{Provider:d,useHook:c}=(0,n.Z)("ReportData");function u({children:e}){const[t,r]=(0,a.useReducer)(o,null),n=(0,a.useCallback)((()=>r({type:"REPORT_CONTENT_DISMISS"})),[]),c=(0,a.useCallback)(((e,t,a)=>r({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:a,type:"aggregatedComment"}})),[]),u=(0,a.useCallback)(((e,t,a)=>r({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:a,type:"conversation"}})),[]),m=(0,a.useCallback)(((e,t,a)=>r({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:a,type:"pin"}})),[]),l=(0,a.useCallback)(((e,t,a)=>{const{id:o,is_downstream_promotion:n,promoter:i,rich_metadata:d,rich_summary:c,videos:u}=e,m=(0,s.VX)(d,c),l=(0,s.jL)(n,!!i);let g;if((0,s.iR)(u)&&u){const{video_list:e={}}=u,t=e[Object.keys(e)[0]];g=t&&t.duration}r({type:"REPORT_CONTENT_SHOW",payload:{id:o,isProduct:m,isPromoted:l,videoDuration:g,viewParameter:t,viewType:a,type:"pin"}})}),[]),g=(0,a.useMemo)((()=>({reportData:t,dismiss:n,reportComment:c,reportConversation:u,reportImage:m,reportPin:l})),[t,n,c,u,m,l]);return(0,i.jsx)(d,{value:g,children:e})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/55262-97fc12e9ddd75805.mjs.map